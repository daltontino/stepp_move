import RPi.GPIO as GPIO
import time
from time import sleep

GPIO.setmode(GPIO.BOARD)
GPIO.setwarnings(False)

GPIO.setup(15,GPIO.OUT) # enable, was 22
GPIO.setup(13,GPIO.OUT) # direction, was 21
GPIO.setup(11,GPIO.OUT) # step, was 20

GPIO.output(15,GPIO.LOW)#enable turned on
delay = 0.0000000001 #delay for the created pwm
GPIO.output(13,GPIO.HIGH) #direction chosen: HIGH=CCW, LOW=CW

print("Engage Hyper Drive")#start
tic = int(time.perf_counter())#timer start
tac = 0.0#total elapsed time initialized
while tac < 240.0: #loop to run for 24 seconds
  GPIO.output(11, GPIO.HIGH) #step off
  sleep(delay)
  GPIO.output(11, GPIO.LOW)#step on
  sleep(delay)
  toc = int(time.perf_counter())#timer end
  tac = toc - tic #total time elapsed 
  #print(tac)
  
print(tac)
print("That's no moon...")
GPIO.cleanup()



'''import RPi.GPIO as GPIO
import time
from time import sleep

GPIO.setmode(GPIO.BOARD)
GPIO.setwarnings(False)

GPIO.setup(15,GPIO.OUT) # enable, was 22
GPIO.setup(13,GPIO.OUT) # direction, was 21
GPIO.setup(11,GPIO.OUT) # step, was 20

step_count = 200000  # number of step to run  change this to change were it stops
delay = 0.000001
GPIO.output(15, GPIO.LOW)
# drive motor counter clockwise number of steps set by step count
GPIO.output(13, GPIO.LOW)
print (" Drive CCW ", step_count ,"steps")
for x in range(step_count):
    GPIO.output(11, GPIO.HIGH)
    sleep(delay)
    GPIO.output(11, GPIO.LOW)
    sleep(delay)
    
# stop motor for 5 seconds    
print (" Stop")
sleep(5)
GPIO.output(15, GPIO.HIGH)
# drive motor clockwise number of steps set by step count
print (" Drive CW ", step_count ,"steps")
GPIO.output(13, GPIO.HIGH)
for x in range(step_count):
    GPIO.output(11, GPIO.HIGH)
    sleep(delay)
    GPIO.output(11, GPIO.LOW)
    sleep(delay)

# end of program
print (" End program")

GPIO.cleanup()'''
